{% extends 'base.html' %}
{% load static %}

{% block css %}
    <link rel="stylesheet" href="{% static 'css/userProfile.css' %}">
{% endblock %}
{% block content %}
    <!-- Begin page content -->
    {#<main role="main" class="mt-3 flex-shrink-0">#}
    <div id="isAuth" hidden="hidden">True</div>
    <div class="alerts-fixed-container" id="alertsFixedContainer">

    </div>

    <div class="container">
        <div class="row">
            <div class="col">
                <div class="profile-header">
                    <div class="row align-items-center">
                        <div class="col-md-3 text-center">
                            <div class="profile-avatar">
                                <img alt="–ê–≤–∞—Ç–∞—Ä" class="avatar-image"
                                     src="{{ request.user.profile.get_avatar_url }}">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <h1>@{{ request.user.username }}</h1>
                            <p class="mb-2">–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: {{ request.user.date_joined }}</p>
                        </div>
                        <div class="col-md-3">

                            <a href="/profile/edit/" class="btn btn-outline-primary edit-profile-btn">
                                <i class="fas fa-edit"></i> –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                            </a>

                        </div>
                    </div>
                </div>
            </div>
        </div>

        <ul class="nav nav-tabs" id="profileTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="info-tab" data-bs-toggle="tab" data-bs-target="#info" type="button"
                        role="tab">
                    <i class="fas fa-user"></i> –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="stats-tab" data-bs-toggle="tab" data-bs-target="#stats" type="button"
                        role="tab">
                    <i class="fas fa-chart-bar"></i> –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="history-tab" data-bs-toggle="tab" data-bs-target="#history" type="button"
                        role="tab">
                    <i class="fas fa-history"></i> –ò—Å—Ç–æ—Ä–∏—è
                </button>
            </li>
        </ul>

        <div class="tab-content" id="profileTabContent">
            <!-- –í–∫–ª–∞–¥–∫–∞ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
            <div class="tab-pane fade show active" id="info" role="tabpanel">
                <div class="row">
                    <div class="col-md-6">
                        <h4>–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h4>
                        <table class="table">
                            <tr>
                                <td><strong>–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</strong></td>
                                <td>{{ request.user.username | default:"–ù–µ —É–∫–∞–∑–∞–Ω–æ" }}</td>
                            </tr>
                            <tr>
                                <td><strong>–ò–º—è:</strong></td>
                                <td>{{ request.user.first_name | default:"–ù–µ —É–∫–∞–∑–∞–Ω–æ" }}</td>
                            </tr>
                            <tr>
                                <td><strong>–§–∞–º–∏–ª–∏—è:</strong></td>
                                <td>{{ request.user.last_name | default:"–ù–µ —É–∫–∞–∑–∞–Ω–æ" }}</td>
                            </tr>
                            <tr>
                                <td><strong>Email:</strong></td>
                                <td>{{ request.user.email | default:"–ù–µ —É–∫–∞–∑–∞–Ω–æ" }}</td>
                            </tr>
                            <tr>
                                <td><strong>–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</strong></td>
                                <td>{{ request.user.date_joined }}</td>
                            </tr>
                            <tr>
                                <td><strong>–ü–æ—Å–ª–µ–¥–Ω–∏–π –≤—Ö–æ–¥:</strong></td>
                                <td>{{ request.user.last_login }}</td>
                            </tr>
                        </table>
                    </div>
                    <div class="col-md-6">
                        <h4>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h4>

                        <p><strong>–û —Å–µ–±–µ:</strong><br>{{ request.user.profile.bio }}</p>


                        <p><strong>–í–µ–±-—Å–∞–π—Ç:</strong><br>
                            <a href="" target="_blank">{{ request.user.profile.website }}</a>
                        </p>


                        <p><strong>–°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è:</strong><br>
                            <a href="/password/change/" class="btn btn-warning btn-sm">
                                <i class="fas fa-key"></i> –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å
                            </a>
                        </p>

                    </div>
                </div>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
            <div class="tab-pane fade" id="stats" role="tabpanel">
                <div class="row">
                    <div class="col-md-6">
                        <h4>–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h4>
                        <div class="card">
                            <div class="card-body">
                                <div class="row text-center">
                                    <div class="col-6">
                                        <h3 class="text-primary">{{ all_snippets }}</h3>
                                        <p>–í—Å–µ–≥–æ —Å–Ω–∏–ø–ø–µ—Ç–æ–≤</p>
                                    </div>
                                    <div class="col-6">
                                        <h3 class="text-success">{{ avg_p_snippets |floatformat:0 }}</h3>
                                        <p>–°—Ä–µ–¥. –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <h4>–¢–æ–ø —Å–Ω–∏–ø–ø–µ—Ç–æ–≤ –ø–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞–º</h4>
                        {% for snippet in top5_views_snippets %}
                            <div class="snippet-card">
                            {{ snip.title }} ‚Äî {{ snip.views_count }}
                                <h6><a href="/snippet/1">Python: Hello World</a></h6>
                                <p class="mb-1">
                                    <span class="badge bg-primary">python</span>
                                    <span class="text-muted">30.06.2025</span>
                                </p>
                                <p class="mb-0">
                                    <i class="fas fa-eye"></i> 140 –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
                                </p>
                            </div>
                        {% empty %}
                            <ul>
                            <li>–£ —Ç–µ–±—è –ø–æ–∫–∞ –Ω–µ—Ç –ø—É–±–ª–∏—á–Ω—ã—Ö —Å–Ω–∏–ø–ø–µ—Ç–æ–≤ üôÇ</li>
                            </ul>
                        {% endfor %}
                        {#                     <div class="snippet-card">#}
                        {#                         <h6><a href="/snippet/4">Python: File Reading</a></h6>#}
                        {#                         <p class="mb-1">#}
                        {#                             <span class="badge bg-primary">python</span>#}
                        {#                             <span class="text-muted">30.06.2025</span>#}
                        {#                         </p>#}
                        {#                         <p class="mb-0">#}
                        {#                             <i class="fas fa-eye"></i> 101 –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤#}
                        {#                         </p>#}
                        {#                     </div>#}
                        {##}
                        {#                     <div class="snippet-card">#}
                        {#                         <h6><a href="/snippet/9">Python: Decorator Example</a></h6>#}
                        {#                         <p class="mb-1">#}
                        {#                             <span class="badge bg-primary">python</span>#}
                        {#                             <span class="text-muted">30.06.2025</span>#}
                        {#                         </p>#}
                        {#                         <p class="mb-0">#}
                        {#                             <i class="fas fa-eye"></i> 93 –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤#}
                        {#                         </p>#}
                        {#                     </div>#}
                        {##}
                        {#                     <div class="snippet-card">#}
                        {#                         <h6><a href="/snippet/2">Python: List Comprehension</a></h6>#}
                        {#                         <p class="mb-1">#}
                        {#                             <span class="badge bg-primary">python</span>#}
                        {#                             <span class="text-muted">30.06.2025</span>#}
                        {#                         </p>#}
                        {#                         <p class="mb-0">#}
                        {#                             <i class="fas fa-eye"></i> 81 –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤#}
                        {#                         </p>#}
                        {#                     </div>#}
                        {##}
                        {#                     <div class="snippet-card">#}
                        {#                         <h6><a href="/snippet/5">Python: Function with Args</a></h6>#}
                        {#                         <p class="mb-1">#}
                        {#                             <span class="badge bg-primary">python</span>#}
                        {#                             <span class="text-muted">30.06.2025</span>#}
                        {#                         </p>#}
                        {#                         <p class="mb-0">#}
                        {#                             <i class="fas fa-eye"></i> 75 –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤#}
                        {#                         </p>#}
                        {#                     </div>#}
                    </div>
                </div>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞ –ò—Å—Ç–æ—Ä–∏—è -->
            <div class="tab-pane fade" id="history" role="tabpanel">
                <h4>–ò—Å—Ç–æ—Ä–∏—è –¥–µ–π—Å—Ç–≤–∏–π</h4>


                <div class="action-item">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <p class="mb-1">–ü—Ä–æ–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–ª —Å–Ω–∏–ø–ø–µ—Ç &quot;C++: Function Example&quot;</p>
                            <small class="action-date">08.08.2025 09:35</small>
                        </div>

                        <span class="badge bg-info">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</span>

                    </div>
                </div>

                <div class="action-item">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <p class="mb-1">–ü—Ä–æ–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–ª —Å–Ω–∏–ø–ø–µ—Ç &quot;C++: Console Output&quot;</p>
                            <small class="action-date">08.08.2025 08:09</small>
                        </div>

                        <span class="badge bg-info">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</span>

                    </div>
                </div>

                <div class="action-item">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <p class="mb-1">–ü—Ä–æ–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–ª —Å–Ω–∏–ø–ø–µ—Ç &quot;C++: Basic Loop&quot;</p>
                            <small class="action-date">08.08.2025 08:09</small>
                        </div>

                        <span class="badge bg-info">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</span>

                    </div>
                </div>

                <div class="action-item">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <p class="mb-1">–°–æ–∑–¥–∞–ª —Å–Ω–∏–ø–ø–µ—Ç &quot;demo snippet&quot;</p>
                            <small class="action-date">10.07.2025 16:45</small>
                        </div>

                        <span class="badge bg-success">–°–Ω–∏–ø–ø–µ—Ç</span>

                    </div>
                </div>

                <div class="action-item">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <p class="mb-1">–°–æ–∑–¥–∞–ª —Å–Ω–∏–ø–ø–µ—Ç &quot;–¢–µ—Å—Ç–æ–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ&quot;</p>
                            <small class="action-date">10.07.2025 16:44</small>
                        </div>

                        <span class="badge bg-success">–°–Ω–∏–ø–ø–µ—Ç</span>

                    </div>
                </div>

                <div class="action-item">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <p class="mb-1">–°–æ–∑–¥–∞–ª —Å–Ω–∏–ø–ø–µ—Ç &quot;Test snippet&quot;</p>
                            <small class="action-date">10.07.2025 16:32</small>
                        </div>

                        <span class="badge bg-success">–°–Ω–∏–ø–ø–µ—Ç</span>

                    </div>
                </div>

                <div class="action-item">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <p class="mb-1">–ü—Ä–æ–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–ª —Å–Ω–∏–ø–ø–µ—Ç &quot;Python: Decorator Example&quot;</p>
                            <small class="action-date">01.07.2025 10:30</small>
                        </div>

                        <span class="badge bg-info">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</span>

                    </div>
                </div>

                <div class="action-item">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <p class="mb-1">–ü—Ä–æ–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–ª —Å–Ω–∏–ø–ø–µ—Ç &quot;Python: Exception Handling&quot;</p>
                            <small class="action-date">01.07.2025 10:05</small>
                        </div>

                        <span class="badge bg-info">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</span>

                    </div>
                </div>

                <div class="action-item">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <p class="mb-1">–ü—Ä–æ–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–ª —Å–Ω–∏–ø–ø–µ—Ç &quot;Python: Function with Args&quot;</p>
                            <small class="action-date">01.07.2025 09:45</small>
                        </div>

                        <span class="badge bg-info">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</span>

                    </div>
                </div>

                <div class="action-item">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <p class="mb-1">–ü—Ä–æ–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–ª —Å–Ω–∏–ø–ø–µ—Ç &quot;Python: List Comprehension&quot;</p>
                            <small class="action-date">01.07.2025 09:15</small>
                        </div>

                        <span class="badge bg-info">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</span>

                    </div>
                </div>

                <div class="action-item">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <p class="mb-1">–ü—Ä–æ–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–ª —Å–Ω–∏–ø–ø–µ—Ç &quot;Python: Hello World&quot;</p>
                            <small class="action-date">01.07.2025 09:00</small>
                        </div>

                        <span class="badge bg-info">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</span>

                    </div>
                </div>

                <div class="action-item">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <p class="mb-1">–°–æ–∑–¥–∞–ª —Å–Ω–∏–ø–ø–µ—Ç &quot;Python: Testing Utility&quot;</p>
                            <small class="action-date">30.06.2025 11:10</small>
                        </div>

                        <span class="badge bg-success">–°–Ω–∏–ø–ø–µ—Ç</span>

                    </div>
                </div>

                <div class="action-item">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <p class="mb-1">–°–æ–∑–¥–∞–ª —Å–Ω–∏–ø–ø–µ—Ç &quot;Python: Configuration Settings&quot;</p>
                            <small class="action-date">30.06.2025 11:05</small>
                        </div>

                        <span class="badge bg-success">–°–Ω–∏–ø–ø–µ—Ç</span>

                    </div>
                </div>

                <div class="action-item">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <p class="mb-1">–°–æ–∑–¥–∞–ª —Å–Ω–∏–ø–ø–µ—Ç &quot;Python: Internal Data Processing&quot;</p>
                            <small class="action-date">30.06.2025 11:00</small>
                        </div>

                        <span class="badge bg-success">–°–Ω–∏–ø–ø–µ—Ç</span>

                    </div>
                </div>

                <div class="action-item">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <p class="mb-1">–°–æ–∑–¥–∞–ª —Å–Ω–∏–ø–ø–µ—Ç &quot;Python: Secret Key Generator&quot;</p>
                            <small class="action-date">30.06.2025 10:55</small>
                        </div>

                        <span class="badge bg-success">–°–Ω–∏–ø–ø–µ—Ç</span>

                    </div>
                </div>

                <div class="action-item">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <p class="mb-1">–°–æ–∑–¥–∞–ª —Å–Ω–∏–ø–ø–µ—Ç &quot;Python: Private Function&quot;</p>
                            <small class="action-date">30.06.2025 10:50</small>
                        </div>

                        <span class="badge bg-success">–°–Ω–∏–ø–ø–µ—Ç</span>

                    </div>
                </div>

                <div class="action-item">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <p class="mb-1">–°–æ–∑–¥–∞–ª —Å–Ω–∏–ø–ø–µ—Ç &quot;Python: Regular Expression&quot;</p>
                            <small class="action-date">30.06.2025 10:45</small>
                        </div>

                        <span class="badge bg-success">–°–Ω–∏–ø–ø–µ—Ç</span>

                    </div>
                </div>

                <div class="action-item">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <p class="mb-1">–°–æ–∑–¥–∞–ª —Å–Ω–∏–ø–ø–µ—Ç &quot;Python: Decorator Example&quot;</p>
                            <small class="action-date">30.06.2025 10:40</small>
                        </div>

                        <span class="badge bg-success">–°–Ω–∏–ø–ø–µ—Ç</span>

                    </div>
                </div>


            </div>
        </div>
    </div>
{% endblock %}